<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/cinesa.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=share" />
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&display=swap" rel="stylesheet">
    <title>Cinesa</title>
</head>
<body>
    <header>
        <div class="logo">
            <img src="../imagenes/Cinesa.png">
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="">Cines</a></li>
                <li><a href="">Películas</a></li>
                <li><a href="">Eventos</a></li>
                <li><a href="">Promos</a></li>
                <li><a href="">Cinesa Luxe</a></li>
                <li><a href="">myCINESA</a></li>
                <li><a href="">Bussines</a></li>
            </ul>
        </nav> 
    </header>
    <main>
        <nav class="menu">
            <ul>
                <li><a href="">Estrenos</a></li>
                <li class="selected"><a href="">Carterela</a></li>
                <li><a href="">Próximos</a></li>
                <li><a href="">IMAX</a></li>
                <li><a href="">ISENSE</a></li>
                <li><a href="">Dolby Cinema</a></li>
                <li><a href="">Screenx</a></li>
                <li><a href="">WhatsCine</a></li>
                <li><a href="">Infantil</a></li>
                <li><a href="">Ciclos</a></li>
            </ul>
        </nav>
        <div class="ordenar-por">
            <span>Ordenar por</span>
            <button id="sort-top">TOP PELÍCULAS</button>
            <button id="sort-az">A-Z</button>
        </div>
        <div class="peliculas">
            <div class="divergente" data-title="Divergente" data-rating="4.2">
                <h3>Divergente</h3>
                <img src="../imagenes/divergente.jpg">
                <a class="estrellas_compartir">
                    <p class="stars">★★★★★</p>
                    <p class="votos">(248 votos)</p>
                    <span class="material-symbols-outlined">
                        share
                        </span>
                </a>
            </div>
            <div class="super-mario" data-title="Super Mario Bros" data-rating="3.8">
                <h3>Super Mario Bros</h3>
                <img src="../imagenes/Super_Mario_Bros_La_pelaicula-521125124-large.jpg">
                <a class="estrellas_compartir">
                    <p class="stars">★★★★★</p>
                    <p class="votos">(546 votos)</p>
                    <span class="material-symbols-outlined">
                        share
                        </span>
                </a>
            </div>
            <div class="ocho-apellidos" data-title="Ocho Apellidos Vascos" data-rating="4.7">
                <h3>Ocho Apellidos Vascos</h3>
                <img src="../imagenes/ocho_apellidos_vascos.jpg">
                <a class="estrellas_compartir">
                    <p class="stars">★★★★★</p>
                    <p class="votos">(858 votos)</p>
                    <span class="material-symbols-outlined">
                        share
                        </span>
                </a>
            </div>
            <div class="expediente-warren" data-title="Expediente Warren: The Conjuring" data-rating="3.5">
                <h3 class="marquee">
                    <span>Expediente Warren: The Conjuring</span>
                </h3>
                <img src="../imagenes/Expediente_Warren.jpg">
                <a class="estrellas_compartir">
                    <p class="stars">★★★★★</p>
                    <p class="votos">(1467 votos)</p>
                    <span class="material-symbols-outlined">
                        share
                        </span>
                </a>
            </div>
            <div class="siete-virgenes" data-title="7 vírgenes" data-rating="4.5">
                <h3>7 vírgenes</h3>
                <img src="../imagenes/7_virgenes.jpg">
                <a class="estrellas_compartir">
                    <p class="stars">★★★★★</p>
                    <p class="votos">(4974 votos)</p>
                    <span class="material-symbols-outlined">
                        share
                        </span>
                </a>
            </div>
        </div>
    </main>
    <script>
    const peliculas = [
    { selector: '.divergente .stars', rating: 4.2 },
    { selector: '.super-mario .stars', rating: 3.8 },
    { selector: '.ocho-apellidos .stars', rating: 4.7 },
    { selector: '.expediente-warren .stars', rating: 3.5 },
    { selector: '.siete-virgenes .stars', rating: 4.5 },
];

    peliculas.forEach(pelicula => {
        const starElement = document.querySelector(pelicula.selector);
        if (starElement) {
            const percentage = (pelicula.rating / 5) * 100; // Convertir la calificación a porcentaje
            starElement.style.setProperty('--rating-width', `${percentage}%`); // Establecer el ancho dinámico
        }
    });
    </script>
    <script>
        const topButton = document.getElementById('sort-top');
        const azButton = document.getElementById('sort-az');
        const peliculasContainer = document.querySelector('.peliculas');
    
        // Ordenar por "TOP PELÍCULAS" (mayor calificación)
        topButton.addEventListener('click', () => {
            const peliculas = Array.from(peliculasContainer.children);
            peliculas.sort((a, b) => parseFloat(b.dataset.rating) - parseFloat(a.dataset.rating));
            peliculas.forEach(pelicula => peliculasContainer.appendChild(pelicula));
        });
    
        // Ordenar por "A-Z" (alfabéticamente por título)
        azButton.addEventListener('click', () => {
            const peliculas = Array.from(peliculasContainer.children);
            peliculas.sort((a, b) => a.dataset.title.localeCompare(b.dataset.title));
            peliculas.forEach(pelicula => peliculasContainer.appendChild(pelicula));
        });
    </script>
    <script>
        const buttons = document.querySelectorAll('.ordenar-por button');
    
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                // Alternar clase 'selected' en el botón presionado
                if (button.classList.contains('selected')) {
                    button.classList.remove('selected'); // Deseleccionar
                } else {
                    buttons.forEach(btn => btn.classList.remove('selected')); // Deseleccionar otros
                    button.classList.add('selected'); // Seleccionar actual
                }
            });
        });
    </script>
    <script>
        const menuItems = document.querySelectorAll('.menu li');
    
        menuItems.forEach(item => {
            const link = item.querySelector('a'); // Seleccionar el enlace dentro del li
            link.addEventListener('click', (event) => {
                event.preventDefault(); // Evita la recarga de la página
    
                // Alternar clase 'selected' en el elemento presionado
                if (item.classList.contains('selected')) {
                    item.classList.remove('selected'); // Deseleccionar si ya está seleccionado
                } else {
                    menuItems.forEach(menu => menu.classList.remove('selected')); // Deseleccionar otros
                    item.classList.add('selected'); // Seleccionar el actual
                }
            });
        });
    </script>
</body>